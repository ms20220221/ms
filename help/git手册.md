# git 操作手册简易版
## 提交修改
提交修改的完整步骤：

1. ctrl+S快捷键，保存修改文件
   注：修改了但未保存的文件右边有一个白色点点提示，保存了之后就没有白点了，只有一个关闭按钮
   ![](\photo\2022-02-08-09-58-21.png)
   ![](\photo\2022-02-08-09-59-18.png)
2. 把修改**添加**到暂存区，依次点击：
   ![](\photo\2022-02-08-10-01-59.png)
   ![](\photo\2022-02-08-10-03-08.png)
   或者一键暂存所有更改：
   ![](\photo\2022-02-08-10-03-59.png)
3. 把暂存区的修改**提交**到本地的git仓,这一步强制要添加提交信息，否则是不让你提交的
   ![](\photo\2022-02-08-10-08-43.png)
4. 本地仓和网络仓同步
   点击左边菜单栏的第三个,此时应该有一个蓝色的框,写着"同步更改"。或者点击vscode左下方的同步更改按钮
   ![](\photo\2022-02-08-10-10-53.png)
![](\photo\2022-02-08-10-11-16.png)
* 注：往下的箭头前面的数字1表示别人往云端同步了一个commit，需要我们拉取下来并合并到本地仓；往上的箭头前面的数字1表示本地仓中有1次commit可以同步到网络仓上

### 手动合并
当两个提交版本同时修改同一文件相邻两行或同一行时，会出现冲突，需要手动合并。
![](\photo\2022-02-08-10-22-51.png)
仔细比对一下就能解决，注意current change是本地的版本，incoming change是从云端上拉下来的版本。由于我刚刚本地的修改是`肖宇柠：2021xxxxx→肖宇柠：2021`；由此可以知道云端上的修改是荣辉腾：`2020→荣辉腾202083014`，那么这两个修改合并之后应该是：
>荣辉腾：202083014
>肖宇柠：2021


可以把incoming change的修改复制黏贴到current chang中，然后点上面的accept current change
![](\photo\2022-02-08-10-39-55.png)
或者把current change里的修改赋值黏贴到incoming change中，然后点上面的accept incoming change，
![](\photo\2022-02-08-10-45-05.png)
哪种需要手动操作的少，就用哪种，保证结果是正确的即可

合并之后，需要重复一下上面的4个步骤，即保存、提交暂存更改、提交、同步。合并时的提交信息不需要我们写，系统自己写好了。

1. ctrl+S保存
   ![](\photo\2022-02-08-10-53-15.png)
2. 暂存合并更改
   ![](\photo\2022-02-08-10-54-21.png)
3. 直接提交，无需写提交信息
![](\photo\2022-02-08-10-57-48.png)
4. 再次同步
   ![](\photo\2022-02-08-10-58-53.png)
5. 合并完之后不放心的话可以在github desktop中检查一下
![](\photo\2022-02-08-11-12-36.png)
![](\photo\2022-02-08-11-12-46.png)
![](\photo\2022-02-08-11-13-00.png)
### 自动合并
如果没有修改同一行或相邻两行，git会自动合并，不需要我们干任何事，例：

别人修改了第5行，并上传至云端，我并不知道
![](\photo\2022-02-08-11-06-18.png)
我修改了第7行，按正常流程保存、暂存更改、提交、同步，我们并没有手动合并，但github desktop中也会自动出现一条merge
![](\photo\2022-02-08-11-08-33.png)
![](\photo\2022-02-08-11-11-18.png)


## 只拉取，不上传
前三步一样，最后一步换成：在命令行输入`git pull origin main`。这次的commit信息可以写“本地同步”

## 其他
* 舍弃本地更改，强行pull
>git fetch all
>git reset --hard origin/main